# üìã –ó–∞–≤–¥–∞–Ω–Ω—è –¥–æ –º–æ–¥—É–ª—è 8 "–†–æ–±–æ—Ç–∞ –∑ API"

## üìÑ –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è:

–ù–µ–æ–±—Ö—ñ–¥–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö –∑ —Ñ–æ—Ä–º–∏ –Ω–∞ –ª–µ–Ω–¥—ñ–Ω–≥—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ü–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫–æ—ó –ü—Ä–æ–≥—Ä–∞–º–∏ AffScale —á–µ—Ä–µ–∑ –Ω–∞–¥–∞–Ω–∏–π API. –î–ª—è –ª–µ–Ω–¥—ñ–Ω–≥—É, —è–∫–∏–π –º–∏ –∑—Ä–æ–±–∏–ª–∏ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –º–æ–¥—É–ª—ñ.

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏:

### API –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö –∑ –ª–µ–Ω–¥—ñ–Ω–≥—É:

- **Endpoint:** `https://tracking.affscalecpa.com/api/v2/affiliate/leads?api-key=adsbdb45dhnjcbd4567ghjdd`
- **–ú–µ—Ç–æ–¥:** `POST`
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `'Content-Type: application/json'`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
  - `goal_id` (required) - Offer goal_id –∑ AffScale
  - `aff_click_id` (required) - Affiliate Click ID
  - `firstname` (required) - –Ü–º'—è –ª—ñ–¥–∞
  - `phone` (required) - –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É
  - `sub_id1` (required) - Media Buyer ID/Traffic Source ID
  - `custom1` (optional) - –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É 2
  - `sub_id2` –¥–æ `sub_id5` (optional) - –ú–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è –≤–∞—à–∏—Ö –æ—Å–æ–±–∏—Å—Ç–∏—Ö —Ü—ñ–ª–µ–π

    
### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –æ–±—Ä–æ–±–Ω–∏–∫–∞:
```php
<?php

if (!empty($_POST['phone'])) {
    send_the_order ($_POST);
}

function send_the_order ($post){
    $params=array(
        'flow_hash' => "qQSS",
        'referrer' => $ref,
        'phone' => $post['phone'],
        'name' => $post['name'],
        'country' => "ES",
        'sub1' => $post['sub1'],
        'sub2' => $post['sub2'],
        'sub3' => $post['sub3'],

    );

    $url = 'http://wapi.leadbit.com/api/pub/new-order/_66279fccd3b10256089676';
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
    curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER['HTTP_USER_AGENT']);
    curl_setopt($ch, CURLOPT_REFERER, $url);
    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $params);
    $return= curl_exec($ch);
    curl_close($ch);

    $array=json_decode($return, true);

}
?>
```

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–∏—Ö –¥–∞–Ω–Ω–∏—Ö:

> [!NOTE]
> –î–∞–Ω—ñ –ø–æ–≤–∏–Ω–Ω—ñ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏—Å—è —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON. –°–ø—Ä–æ–±—É–π—Ç–µ 2 –≤–∞—Ä—ñ–Ω—Ç–∏, –∫–æ–ª–∏ –º–∏ –ø–µ—Ä–µ–¥–∞—î–º–æ `—Å—Ç–∞—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ` —Ç–∞ –ø–æ–≥—Ä–∞—Ç–∏—Å—è –∑ —ñ–Ω–ø—É—Ç–∞–º–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ `–¥–∏–Ω–∞–º—ñ—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö`.


**–°—Ç–∞—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∑ —Ñ–æ—Ä–º–∏:**

```json
{
  "goal_id": 83,
  "sub_id1": "traff",
  "sub_id2": "fb",
  "aff_click_id": "156484efwe4re98b4rev4wr84"
}
```

## ‚úèÔ∏è –ó–º—ñ–Ω–∏ –Ω–∞ –ª–µ–Ω–¥—ñ–Ω–≥—É:

> [!NOTE]
> –ë–µ—Ä–µ–º –ª–µ–Ω–¥, —è–∫–∏–π —É –Ω–∞—Å –≤–∏–π—à–æ–≤ –ø—ñ—Å–ª—è –º–∏–Ω—É–ª–æ–≥–æ –¥–æ–º–∞—à–Ω—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è 7, —Ç–∞ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î–º–æ –¥–æ –Ω—å–æ–≥–æ –ø–µ—Ä–µ–¥–∞—á—É –ª—ñ–¥—ñ–≤.

1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `api.php` —Ç–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–∏—Ö –∑ —Ñ–æ—Ä–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä AffScale —á–µ—Ä–µ–∑ —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π API –æ–±—Ä–æ–±–Ω–∏–∫.
2. –Ü–º'—è —Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω –º–∞—é—Ç—å –¥–∏–Ω–∞–º—ñ—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏—Å—è –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö —ñ–Ω–ø—É—Ç—ñ–≤ —Ñ–æ—Ä–º–∏.
4. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É `success.php`, –Ω–∞ —è–∫—É –º–∞—î –ø–µ—Ä–µ–∫–∏–¥—É–≤–∞—Ç–∏ –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º–∏.
5. –î–æ–¥–∞—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É `success.php` –∫–æ–¥ –ø—ñ–∫—Å–µ–ª—è, –∞–π–¥—ñ —è–∫–æ–≥–æ –º–∞—î –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏—Å—è –∑ –æ–±—Ä–æ–±–Ω–∏–∫–∞ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É.

> [!CAUTION]
> –£ –≤–∞—Å –±—É–¥–µ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π `api key`, —Ç–æ–º—É –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Å–∞–º—É –≤—ñ–¥–ø—Ä–∞–≤–∫—É –ø–æ API –≤–∞–º –Ω–µ —Ç—Ä–µ–±–∞. –¢—ñ–ª—å–∫–∏ –Ω–∞–ø–∏—Å–∞—Ç–∏ –∫–æ–¥, —è–∫–∏–π –Ω–∞ –≤–∞—à–∏ –¥—É–º–∫—É –º–∞—î `100% –ø—Ä–∞—Ü—é–≤–∞—Ç–∏`.


### üìä FB Pixel 
–î–æ–¥–∞—Ç–∏ –∫–æ–¥ –ø—ñ–∫—Å–µ–ª—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É "–î—è–∫—É—î–º–æ" `success.php`. –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –ø—ñ–∫—Å–µ–ª—è:

```html
<script>
  (function(f,b,e,v,n,t,s) {
    if(f.fbq)return; n=f.fbq=function() {
      n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments)
    };
    if(!f._fbq)f._fbq=n; n.push=n; n.loaded=!0; n.version='2.0';
    n.queue=[]; t=b.createElement(e); t.async=!0;
    t.src=v; s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)
  })(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '111111111111');
  fbq('track', 'PageView');
</script>
<noscript>
  <img height="1" width="1" style="display:none"
       src="https://www.facebook.com/tr?id=111111111111&ev=PageView&noscript=1"/>
</noscript>
```

> [!IMPORTANT]
> –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä `id` –ø—ñ–∫—Å–µ–ª—è –º–∞—î –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏—Å—è –∑ —Ñ–æ—Ä–º–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ª–µ–Ω–¥—ñ–Ω–≥—É —á–µ—Ä–µ–∑ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π —ñ–Ω–ø—É—Ç `name="pixel"`. –Ü–≤–µ–Ω—Ç/–ü–æ–¥—ñ—è –º–∞—î –±—É—Ç–∏ `Lead`. –°–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω–æ, —Ç–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π –≤–∞—Ä—ñ–Ω—Ç —Ç–∞–∫–æ–∂.


## ‚ö†Ô∏è –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫:
–†–æ–∑—Ä–æ–±–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫ –∑ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ, –Ω–µ –≤–≤–µ–¥–µ–Ω–æ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è). –ú–∞—Å–∫–∞ —è–∫ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Å–ø–æ—Å—ñ–± –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –±—É–¥–µ –¥–æ—Ä–µ—á–Ω–∞.


## üí° –î–æ–¥–∞—Ç–∫–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–µ, –¥–ª—è PRO-—Ä—ñ–≤–Ω—è):
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–∞—Å–∫—É –¥–ª—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É –ø—ñ–¥ –≥–µ–æ –ú–µ–∫—Å–∏–∫–∞.
> [!NOTE]
> –ú–∞—Å–∫–∞ –¥–ª—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É –ú–µ–∫—Å–∏–∫–∞: +52-–•XXXXXXXXX (10 —Ü–∏—Ñ—Ä –ø—ñ—Å–ª—è –∫–æ–¥—É –∫—Ä–∞—ó–Ω–∏).

- –ù–∞–ø–∏—Å–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–±–æ—Ä–æ–Ω–∏ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –¥—É–±–ª—å–æ–≤–∞–Ω–∏—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å (–≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–∞–Ω—ñ —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –ø—Ä–æ–π—à–ª–æ –±—ñ–ª—å—à–µ 5 —Ö–≤–∏–ª–∏–Ω –∑ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤—ñ–¥–ø—Ä–∞–≤–∫–∏).
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞–Ω—ñ–º–∞—Ü—ñ—é –ø—ñ–¥ —á–∞—Å –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–ø—ñ–Ω–Ω–µ—Ä).

### ‚ö†Ô∏è –í–∏–º–æ–≥–∏ –¥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥–æ–º–∞—à–Ω—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è:
1. –í–∑—è—Ç–∏ –ª–µ–Ω–¥ –∑ –º–∏–Ω—É–ª–æ–≥–æ –¥–æ–º–∞—à–Ω—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–ø—ñ.
2. –í–∏–∫–æ–Ω–∞–Ω–µ –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è –∑–∞–ø–∞–∫—É–≤–∞—Ç–∏ —É –∞—Ä—Ö—ñ–≤ —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É.
3. –¢–µ—Ä–º—ñ–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥–æ–º–∞—à–Ω—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è `5 –¥–Ω—ñ–≤`.

–ë–∞–∂–∞—î–º–æ —É—Å–ø—ñ—Ö—É! üöÄ
